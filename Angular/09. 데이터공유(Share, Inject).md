# 09. ë°ì´í„° ê³µìœ  (Share, Inject)

### ì´ë•Œê¹Œì§€ ë°°ìš´ ë‚´ìš© ì ê¹ ì •ë¦¬ ğŸ’¡
ì•µê·¤ëŸ¬ì˜ ê¸°ë³¸ êµ¬ì„± í˜•íƒœëŠ” ëª¨ë“ˆ + ì»´í¬ë„ŒíŠ¸ì˜ í˜•íƒœ 

ì»´í¬ë„ŒíŠ¸ëŠ” í™”ë©´ì„ êµ¬ì„±í•˜ëŠ” ê¸°ëŠ¥ ë‹´ë‹¹

ë°ì´í„°ë¥¼ ë°”ì¸ë”© í•˜ëŠ” ë°©ë²•ì„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë‹¨ìˆœí•˜ê²Œ ë°ì´í„°ë¥¼ ë¶™ì—¬ì£¼ê±°ë‚˜, FormsModule ë˜ëŠ” ReactiveFormsModule ì„ ì‚¬ìš©í–ˆë‹¤. 

ì´ëŸ¬í•œ ë°”ì¸ë”© ë°©ë²•ìœ¼ë¡œ Dom ê°ì²´ì— ì ‘ê·¼í•˜ì§€ ì•Šê³  ë°ì´í„°ë¥¼ í™”ë©´ì— í‘œì¸Œí•˜ê±°ë‚˜ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤. 

ëª¨ë“ˆì—ì„œ ìš°ë¦¬ëŠ” ì´ëŸ° ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ import ë¥¼ í†µí•˜ì—¬ ì™¸ë¶€ ëª¨ë“ˆì„ ì°¸ì¡°í•˜ë„ë¡ í–ˆë‹¤. 

ë°ì´í„°ë¥¼ Import í•´ ë³´ì ! 

## 1. ì‰¬ìš´ ê´€ë¦¬ë¥¼ ìœ„í•´ MyType.ts íŒŒì¼ì„ ë”°ë¡œ ë§Œë“ ë‹¤. 
```typescript
export declare type INFORMATION = { // ì „ë‹¬í•  ë°ì´í„° í˜•ì‹
    data1 : string,
    data2 : number,
    data3 : any,
  };
```
- export í•´ ì£¼ì§€ ì•Šìœ¼ë©´ ì™¸ë¶€ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ì—†ìœ¼ë‹ˆ ì£¼ì˜í•œë‹¤. 

## 2. app.modules.ts ì˜ provide ì— json í˜•íƒœë¡œ ë³´ë‚¼ ë°ì´í„°ë¥¼ ì¶”ê°€ í•´ ì¤€ë‹¤ 

```typescript
import {INFORMATION} from './MyType';  

import { NgModule } from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';
import { FormsModule } from '@angular/forms';   //FormsModuleì„ ê°€ì ¸ì˜¨ë‹¤. 

import { AppComponent } from './app.component';
import { LoginComponent } from './login/login.component';
import { DashboardComponent } from './dashboard/dashboard.component';

import {ReactiveFormsModule} from '@angular/forms'; // ë°˜ì‘í˜• í¼ ? 

const myData : INFORMATION = {
  data1: 'data1',
  data2: 1433,
  data3: ['data3_1', 'dataa3_2']
};

@NgModule({
  declarations: [
    AppComponent,
    LoginComponent,
    DashboardComponent
  ],
  imports: [                                  // importsë¥¼ í†µí•´ì„œ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ë“¤ì´ í•´ë‹¹ ëª¨ë“ˆì˜ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ ì¤€ë‹¤.  
    BrowserModule,
    FormsModule,
    ReactiveFormsModule // ë°˜ì‘í˜• í¼ ì‚¬ìš© 
  ],
  providers: [
    {provide : 'sending_name', useValue:myData}  // ì œê³µ ? ì‚¬ìš©ê°’ ?
  ], 
  bootstrap: [AppComponent]
})
export class AppModule { }
```
-  {provide : 'sending_name', useValue:myData} 
- ì—¬ê¸°ì„œ provideëŠ” ì „ë‹¬ ë°›ì„ ì´ë¦„, useValue ëŠ” ë§¤í•‘í•  ë°ì´í„°ë¥¼ ì˜ë¯¸í•œë‹¤. 
- ì•± ëª¨ë“ˆì´ ë°ì´í„°ë¥¼ ì „ë‹¬í•œë‹¤. 

## 3. ì‚¬ìš© í•  Component ì˜ constructor ì— @injectë¡œ ë°›ì•„ì˜¨ë‹¤ 
```typescript
import { Component, Input, OnInit, Output,EventEmitter , Inject} from '@angular/core';
import {FormControl, Validators} from '@angular/forms';
import { INFORMATION } from '../MyType';

@Component({
  selector: 'app-login',
  templateUrl: './login.component.html',
  styleUrls: ['./login.component.css']
})
export class LoginComponent implements OnInit {
  @Input() visible1 : boolean = false; // ë°›ëŠ” ì—­í• 
  @Output() sendMyEvent : EventEmitter<any> = new EventEmitter(); //ë³´ë‚´ëŠ” ì—­í• 
  id = new FormControl(); // í¼ ì»¨íŠ¸ë¡¤ëŸ¬ í´ë˜ìŠ¤ë¡œ ë°”ê¾¼ë‹¤.
  pwd = new FormControl('',[Validators.required, Validators.minLength(4)]); // í¼ ì»¨íŠ¸ë¡¤ëŸ¬ í´ë˜ìŠ¤ë¡œ ë°”ê¾¼ë‹¤. 
  
  private message :any;
  constructor(@Inject("sending_name") my_type : INFORMATION) { 
    console.log(my_type);
  }
```

- ì•± ëª¨ë“ˆì´ ì „ë‹¬ í•œ ë°ì´í„°ëŠ” ì»´í¬ë„ŒíŠ¸ì—ì„œ ìƒì„±ì(constructor)ë¥¼ í†µí•´ì„œ ë°›ëŠ”ë‹¤
- ë°ì´í„°ë¥¼ ë°›ì„ ë•Œ Inject ë¼ëŠ” ë°ì½”ë ˆì´í„°ê°€ ì‚¬ìš©ë˜ë©° ì†Œê´„í˜¸ì— provideë¥¼ í†µí•´ ì§€ì–´ì¤€ ì´ë¦„ ê°’ì„ ì…ë ¥í•˜ë©´ ëœë‹¤. 
```typescript
providers: [
    {provide : 'sending_name', useValue:myData}  // moduleì˜ providerì—ì„œ ì§€ì–´ ì¤€ sending_name ì´ë¦„ì„ 
  ], 
```

```typescript
constructor(@Inject("sending_name") my_type : INFORMATION) {  // @Inject ë°ì½”ë ˆì´í„°ë¡œ ë°›ì•„ì˜¨ë‹¤.
    console.log(my_type);
  }
```

ì´ëŸ¬í•œ ë°©ì‹ìœ¼ë¡œ ëª¨ë“ˆì—ì„œëŠ” ì»´í¬ë„ŒíŠ¸ì—ê²Œ ëª¨ë“ˆì´ ê´€ë¦¬í•˜ëŠ” ë°ì´í„°, ê°ì²´ë“±ì„ ì „ë‹¬ í•  ìˆ˜ ìˆë‹¤.

ì™¸ë¶€ ëª¨ë“ˆì„ ì‚¬ìš©í•˜ë‹¤ë³´ë©´ í•´ë‹¹ ëª¨ë“ˆì— í•„ìš”í•œ ì •ë³´ë¥¼ ì „ë‹¬í•´ì•¼ ëœëŠ ê²½ìš°ê°€ ìˆë‹¤. 
ë§Œì•½ providerë¥¼ í†µí•´ì„œ ë‚´ìš©ì„ ì „ë‹¬í•˜ëŠ” ë°©ì‹ì´ ì—†ë‹¤ë©´ ì™¸ë¶€ ëª¨ë“ˆì˜ ëª¨ë“ˆ.tsíŒŒì¼ êµ¬ì¡°ë¥¼ íŒŒì•…í•´ì„œ ë‚´ìš©ì„ ìˆ˜ì •í•´ì•¼ í•  ê²ƒì´ë‹¤. 

ì´ëŸ¬í•œ ê²½ìš°ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ ì•µê·¤ëŸ¬ì—ì„œëŠ” ëª¨ë“ˆì—ì„œ ë‹¤ì–‘í•œ ê°ì²´ì™€ ì •ë³´ë¥¼ providersë¥¼ í†µí•´ì„œ ë°›ì„ ìˆ˜ ìˆê²Œ ë˜ì–´ìˆë‹¤. 

### ì°¸ì¡° 
[14 : ë°ì´í„° ê³µìœ (Share, Inject)](https://lts0606.tistory.com/364?category=775312)
