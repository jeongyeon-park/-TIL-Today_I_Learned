# 0422 FRI ðŸ˜

- [] node js crash course í•™ìŠµ
- [] node js api ë§Œë“œëŠ” ê²ƒ í•™ìŠµ 

# ì˜¤ì „
```javascript
const {writeFile, writeFileSync, appendFile} = require('fs');

const newContent = '\nThis is some new text';

appendFile('hi.txt', newContent, (err)=>{
    if(err){
        console.error(err);
        return;
    }
    console.log('Content Written!');
});
```

### íŒŒì¼ rename
```javascript
const {rename} = require('fs');

rename('hi.txt', "hello.txt", (err)=>{
    if(err){
        console.error(err);
        return;
    }
    console.log('File renamed!');
});
```
```javascript
function addNums(num1,num2){
    return num1+num2;
}

export {addNums};
```
export ëŠ” ì´ë ‡ê²Œ

`npm init -y` ë¥¼ í•˜ë©´ pakage jsonì„ ìƒì„± í•´ ì¤€ë‹¤. 


```json
{
  "name": "0421thu",
  "version": "1.0.0",
  "description": "",
  "main": "server.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1",
    "start": "node server.js"
  },
  "keywords": [],
  "author": "",
  "license": "ISC",
  "type": "module"
}
```
type : module í•´ ì£¼ë©´ ES6 ëª¨ë“ˆì„ ì“¸ ìˆ˜ ìžˆë‹¤. 


![image](https://user-images.githubusercontent.com/64348346/164752836-df9bdd81-de31-4002-9c00-d58170371e94.png)

# ì˜¤í›„


```javascript
const http = require('http');
const fs = require('fs');

const PORT = process.env.PORT || 3000

const server = http.createServer((req,res)=>{
    console.log(req.url, req.method);
    res.statusCode = 200;
    res.setHeader('Content-Type', 'text/html');

    let path = './';
    switch(req.url){
        case '/':
            path += 'index.html';
            break;
        case '/about':
            path += 'about.html';
            break;
        default:
            path+= '404.html';
            break;
    }

    fs.readFile("./index.html", (err,data)=>{
        if(err){
            console.error(err);
            res.end();
        }
        else{
            res.write(data);
            res.end();
        }
    });
})

server.listen(3000, ()=>console.log(`Server listening on port ${PORT}...`));
```