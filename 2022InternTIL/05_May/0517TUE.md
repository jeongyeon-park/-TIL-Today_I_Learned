# 0517 TUE ğŸ§‡

ngOnit ì€ ì•µê·¤ëŸ¬ê°€ ì´ ì»´í¬ë„ŒíŠ¸ë¥¼ ìƒì„±í•  ë•Œ ì‹¤í–‰í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤. 

ìµœì´ˆ ì´ˆê¸° ì„¤ì •ì„ í•´ì•¼í•  ê²Œ ìˆì„ ë•Œ ngOnit ì—ì„œ í•˜ëŠ” ê²ƒì„ ì¶”ì²œí•œë‹¤. 

getPostUpdateListener ê°€ observable ì„ return í•˜ê³ , ê·¸ë˜ì„œ ì—¬ê¸°ì„œ subscribe ë¥¼ ë¶ˆëŸ¬ ì¤„ ìˆ˜ ìˆë‹¤. 

subscribe ëŠ” subscription ì„ ì„¤ì • ì‹œí‚¨ë‹¤.

ê·¸ë¦¬ê³  ì„¸ê°œì˜ argumentë¥¼ êµ¬ë…í•œë‹¤. 

1. í•˜ë‚˜ëŠ” ìƒˆë¡œìš´ ë°ì´í„°ê°€ ë°©ì¶œ ë˜ì—ˆì„ ë•Œ ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜ì´ë‹¤. 
2. ì—ëŸ¬ê°€ ë°œìƒ í–ˆì„ ë•Œì˜ ì—ëŸ¬ 
3. ì„¸ë²ˆì§¸ëŠ” observable ì´ ì™„ì„± ë˜ì—ˆì„ ë–„ 

ê·¸ë˜ì„œ ìš°ë¦¬ëŠ” ì²«ë²ˆì§¸ Argumemtë§Œ ë”í•´ ì¤„ê±°ë‹¤. 

ì²«ë²ˆì§¸ argumentëŠ” ìƒˆ valueê°€ ë°›ì•„ ì¡Œì„ ë–„ ë¶ˆë ¤ì§€ëŠ” í•¨ìˆ˜ì´ë‹¤.

```typescript
ngOnInit(){
    this.posts = this.postsService.getPosts();
    this.postsService.getPostUpdateListener()
      .subscribe((posts: Post[])=>{
        this.posts = posts;
      });
  }
```

ì´ëŸ¬ë©´ ìƒˆ value ê°€ ë“¤ì–´ì˜¬ ë•Œ update ê°€ëŠ¥í•˜ë‹¤. 

ì´ subscription ì€ componentê°€ í—ˆë¬¼ì–´ì ¸ë„ ì·¨ì†Œë˜ì§€ ì•ŠëŠ”ë‹¤. 

ì§€ê¸ˆì€ ìš°ë¦¬ê°€ ì˜¤ì§ í•œ í˜ì´ì§€ì˜ í”„ë¡œì íŠ¸ë¼ subscription ì´ ì‚¬ë¼ì§€ì§€ ì•ŠëŠ”ë‹¤. 

ê·¸ëŸ¬ë‚˜ ë‚˜ì¤‘ì—ëŠ”, ë‚˜ì¤‘ì— ë” ë§ì€ ì»´í¬ë„ŒíŠ¸ê°€ ìˆì„ ë•Œ, 

component ê°€ ì—†ì–´ì¡Œì„ ë•Œ unsubscribe í•  ìˆ˜ ìˆëŠ”ê²ƒë„ í•„ìš”í•˜ë‹¤. 

```typescript
export class PostListComponent implements OnInit, OnDestroy{
  // posts = [
  //   {title:'First Post', content:'This is the first post\'s content'},
  //   {title:'Second Post', content:'This is the second post\'s content'},
  //   {title:'Third Post', content:'This is the third post\'s content'},
  // ];
  posts : Post[]= [];
  private postsSub: Subscription;


  constructor(public postsService: PostsService){}

  ngOnInit(){
    this.posts = this.postsService.getPosts();
    this.postsSub = this.postsService.getPostUpdateListener()
      .subscribe((posts: Post[])=>{
        this.posts = posts;
      });
  }

  ngOnDestroy() {
    this.postsSub.unsubscribe();
  }
}
```

ì´ë ‡ê²Œ í•´ ì£¼ë©´ ì—†ì–´ì¡Œì„ ë•Œ unsubscribe ëœë‹¤.

## More about Observable 

ë‹¨ìˆœíˆ ë§í•´ , Observable ê³¼ Observer ê°€ ìˆë‹¤. 

ObserverëŠ” Observable ì„ êµ¬ë…í•œë‹¤. 


![image](https://user-images.githubusercontent.com/64348346/168911671-2b58b635-a3d0-4c2d-bfca-39448efe56db.png)

Observer ëŠ” ì„¸ê°œì˜ methodë¥¼ í˜¸ì¶œ í•  ìˆ˜ ìˆë‹¤. 

ìš°ë¦¬ëŠ” next ë¥¼ ì¼ì—ˆì§€.. 


### Subject
**Subject** ë„ observable ì˜ ì¼ì¢…ì´ë‹¤. 

![image](https://user-images.githubusercontent.com/64348346/168915169-5c0a4acb-2527-4bc7-a613-1493addf27c1.png)

